<view class="mywork-page"><view class="user-message"><view class="message"><view class="text"><uni-icons vue-id="3cd6aac0-1" type="person-filled" size="30" color="#ff77db" bind:__l="__l"></uni-icons><text>{{types[user.is_type]}}</text></view><view class="text"><text class="text-p">{{user.fullName}}</text></view></view><view data-event-opts="{{[['tap',[['userOperate',['$event']]]]]}}" class="oprate" bindtap="__e"><uni-icons vue-id="3cd6aac0-2" type="gear-filled" size="30" color="#fff" bind:__l="__l"></uni-icons></view></view><view class="workorder-status"><view><view class="title"><uni-icons vue-id="3cd6aac0-3" type="email-filled" size="26" color="#007aff" bind:__l="__l"></uni-icons><text>我的工单</text></view><view class="search-input"><uni-easyinput vue-id="3cd6aac0-4" suffixIcon="search" placeholder="请输入工单名称" value="{{searchValue}}" data-event-opts="{{[['^change',[['searchWorklist']]],['^iconClick',[['searchWorklist']]],['^input',[['__set_model',['','searchValue','$event',[]]]]]]}}" bind:change="__e" bind:iconClick="__e" bind:input="__e" bind:__l="__l"></uni-easyinput></view><block wx:for="{{workListSearch}}" wx:for-item="item" wx:for-index="__i0__" wx:key="record_id"><view><uni-card vue-id="{{'3cd6aac0-5-'+__i0__}}" title="{{'工单名称: '+item.name}}" sub-title="{{'工单类型: '+item.record_type}}" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{user.is_type=='director'||user.is_type=='leader'}}"><view class="tag-view"><text>工单状态:</text><uni-tag vue-id="{{('3cd6aac0-6-'+__i0__)+','+('3cd6aac0-5-'+__i0__)}}" inverted="{{true}}" text="{{item.status}}" type="{{item.status=='未审核'?'warning':item.status=='待审核'?'primary':'success'}}" size="mini" bind:__l="__l"></uni-tag></view></block><view class="button-body"><button data-event-opts="{{[['tap',[['workDetail',['$0','$1','$2'],[[['workListSearch','record_id',item.record_id,'record_id']],[['workListSearch','record_id',item.record_id,'record_type']],[['workListSearch','record_id',item.record_id,'status']]]]]]]}}" class="check-button" bindtap="__e">查看详情</button></view></uni-card></view></block><uni-card vue-id="3cd6aac0-7" padding="0" spacing="0" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{workListSearch.length==0}}"><view class="empty"><text>暂无相关工单</text></view></block></uni-card></view></view><view><uni-popup class="vue-ref" vue-id="3cd6aac0-8" type="message" data-ref="errMessage" bind:__l="__l" vue-slots="{{['default']}}"><uni-popup-message vue-id="{{('3cd6aac0-9')+','+('3cd6aac0-8')}}" type="error" message="{{messageText}}" duration="{{500}}" bind:__l="__l"></uni-popup-message></uni-popup></view></view>