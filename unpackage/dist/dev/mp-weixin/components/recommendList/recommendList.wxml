<view class="recommend-list-page"><uni-card vue-id="f094c5e8-1" margin="2px" bind:__l="__l" vue-slots="{{['default']}}"><view class="top-button"><view data-event-opts="{{[['tap',[['searchRecom',['$event']]]]]}}" class="search-button" bindtap="__e"><uni-icons vue-id="{{('f094c5e8-2')+','+('f094c5e8-1')}}" type="search" size="16" bind:__l="__l"></uni-icons><text>查找</text></view><view data-event-opts="{{[['tap',[['viewurl',['$event']]]]]}}" class="search-button" bindtap="__e"><uni-icons vue-id="{{('f094c5e8-3')+','+('f094c5e8-1')}}" type="wallet-filled" bind:__l="__l"></uni-icons><text>套餐详情</text></view></view><view><uni-data-picker class="vue-ref" vue-id="{{('f094c5e8-4')+','+('f094c5e8-1')}}" placeholder="请选择设备类型" popup-title="请选择设备" step-searh="{{false}}" localdata="{{deviceTree}}" data-ref="picker" value="{{deviceChoose.device_id}}" data-event-opts="{{[['^nodeclick',[['onnodeclick']]],['^input',[['__set_model',['$0','device_id','$event',[]],['deviceChoose']]]]]}}" bind:nodeclick="__e" bind:input="__e" bind:__l="__l"></uni-data-picker></view><view class="recom-detail"><text>{{"单价:"+recomDetail}}</text></view><view class="number-box"><uni-number-box bind:input="__e" vue-id="{{('f094c5e8-5')+','+('f094c5e8-1')}}" step="{{0.1}}" padding="{{true}}" value="{{deviceChoose.number}}" data-event-opts="{{[['^input',[['__set_model',['$0','number','$event',[]],['deviceChoose']]]]]}}" bind:__l="__l"></uni-number-box><text>{{''+recomUnit}}</text></view><view class="notes"><text>备注:</text><uni-easyinput bind:input="__e" vue-id="{{('f094c5e8-6')+','+('f094c5e8-1')}}" maxlength="100" type="textarea" placeholder="请输人备注信息" value="{{deviceChoose.notes}}" data-event-opts="{{[['^input',[['__set_model',['$0','notes','$event',[]],['deviceChoose']]]]]}}" bind:__l="__l"></uni-easyinput></view><button data-event-opts="{{[['tap',[['Submit',['$event']]]]]}}" class="add-button" bindtap="__e">添加</button></uni-card><uni-card vue-id="f094c5e8-7" margin="2px" bind:__l="__l" vue-slots="{{['default']}}"><view><text>清单列表(点击进行删除)</text></view><view class="recom-list"><block wx:for="{{finishReList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="recom-item"><view class="title">{{deviceidMap[item.device_id]}}</view><view class="cost">{{"单价: "+item.cost}}</view><view class="number">{{"数量: "+item.number+''}}<view data-event-opts="{{[['tap',[['dellocalDevice',[index,'$0'],[[['finishReList','',index]]]]]]]}}" class="recom-icon-delete" bindtap="__e">删除</view><view data-event-opts="{{[['tap',[['modifyDevice',['$0',index],[[['finishReList','',index]]]]]]]}}" class="recom-icon-modify" bindtap="__e">修改</view></view></view></block></view><view class="recom-detail"><text>{{"总价:"+allcost}}</text></view></uni-card><button data-event-opts="{{[['tap',[['finishRecom',['$event']]]]]}}" class="button" bindtap="__e">上传推荐清单</button><view><uni-popup class="vue-ref" vue-id="f094c5e8-8" type="dialog" data-ref="finishDialog" bind:__l="__l" vue-slots="{{['default']}}"><uni-popup-dialog vue-id="{{('f094c5e8-9')+','+('f094c5e8-8')}}" type="info" cancelText="关闭" confirmText="同意" title="通知" content="是否确认提交" data-event-opts="{{[['^confirm',[['finishConfirm']]]]}}" bind:confirm="__e" bind:__l="__l"></uni-popup-dialog></uni-popup></view><view><uni-popup class="vue-ref" vue-id="f094c5e8-10" type="dialog" data-ref="deldeviceDialog" bind:__l="__l" vue-slots="{{['default']}}"><uni-popup-dialog vue-id="{{('f094c5e8-11')+','+('f094c5e8-10')}}" type="info" cancelText="关闭" confirmText="同意" title="通知" content="是否确认删除" data-event-opts="{{[['^confirm',[['dellocaldeviceConfirm']]]]}}" bind:confirm="__e" bind:__l="__l"></uni-popup-dialog></uni-popup></view><view><uni-popup class="vue-ref" vue-id="f094c5e8-12" type="message" data-ref="errMessage" bind:__l="__l" vue-slots="{{['default']}}"><uni-popup-message vue-id="{{('f094c5e8-13')+','+('f094c5e8-12')}}" type="error" message="{{messageText}}" duration="{{500}}" bind:__l="__l"></uni-popup-message></uni-popup></view><view><uni-popup class="vue-ref" vue-id="f094c5e8-14" background-color="#fff" data-ref="searchPopup" bind:__l="__l" vue-slots="{{['default']}}"><view class="search-content"><view class="search-input"><uni-easyinput vue-id="{{('f094c5e8-15')+','+('f094c5e8-14')}}" suffixIcon="search" placeholder="请输入设备名" value="{{searchValue}}" data-event-opts="{{[['^change',[['searchDevice']]],['^iconClick',[['searchDevice']]],['^input',[['__set_model',['','searchValue','$event',[]]]]]]}}" bind:change="__e" bind:iconClick="__e" bind:input="__e" bind:__l="__l"></uni-easyinput></view><view class="search-area"><block wx:for="{{deviceSearch}}" wx:for-item="item" wx:for-index="__i0__" wx:key="device_id"><view data-event-opts="{{[['tap',[['chooseDevice',['$0'],[[['deviceSearch','device_id',item.device_id]]]]]]]}}" class="device-list" bindtap="__e"><text>{{item.device_type+" /"+item.name}}</text></view></block><block wx:if="{{$root.g0==0}}"><view class="empty">查找设备为空</view></block></view></view></uni-popup></view><view><uni-popup class="vue-ref" vue-id="f094c5e8-16" background-color="#fff" type="dialog" data-ref="modifyPopup" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{isShowDialog}}"><uni-popup-dialog vue-id="{{('f094c5e8-17')+','+('f094c5e8-16')}}" type="info" cancelText="取消" confirmText="修改" title="修改" mode="input" placeholder="请输入修改的数量" data-event-opts="{{[['^confirm',[['handleModifyCondfirm']]]]}}" bind:confirm="__e" bind:__l="__l"></uni-popup-dialog></block></uni-popup></view><uni-popup class="vue-ref" vue-id="f094c5e8-18" data-ref="noticeFinishInfoPop" bind:__l="__l" vue-slots="{{['default']}}"><uni-popup-dialog vue-id="{{('f094c5e8-19')+','+('f094c5e8-18')}}" type="info" showClose="{{false}}" confirmText="我知道了" title="通知" content="{{popupText}}" data-event-opts="{{[['^confirm',[['finishConfirmNotice']]]]}}" bind:confirm="__e" bind:__l="__l"></uni-popup-dialog></uni-popup></view>